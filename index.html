<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Patient Record Management System</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

body {
  margin: 0;
  padding: 0;
  background: linear-gradient(135deg, #0f0f2e 0%, #1a1a4d 50%, #0d3b66 100%);
  font-family: 'Poppins', sans-serif;
  color: #fff;
  min-height: 100vh;
}

/* HEADER */
header {
  text-align: center;
  padding: 30px 0;
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

header h1 {
  font-size: 2.4rem;
  font-weight: 700;
  background: linear-gradient(135deg, #00d4ff, #7f39fb);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* MAIN LAYOUT SPLIT */
.wrapper {
  width: min(95%, 1300px);
  margin: 40px auto;
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 35px;
}

.section-card {
  padding: 35px;
  border-radius: 20px;
  background: rgba(255, 255, 255, 0.12);
  border: 1px solid rgba(255, 255, 255, 0.18);
  backdrop-filter: blur(22px);
  box-shadow: 0 12px 45px rgba(0, 0, 0, 0.35);
}

/* FORM SECTION */
form input,
form select,
form textarea {
  width: 100%;
  padding: 14px;
  margin: 10px 0;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.25);
  background: rgba(255, 255, 255, 0.08);
  color: #fff;
  font-size: 1rem;
  backdrop-filter: blur(10px);
  transition: 0.3s ease;
}

form button {
  width: 100%;
  padding: 14px;
  border-radius: 12px;
  border: none;
  margin-top: 15px;
  background: linear-gradient(135deg, #00d4ff, #7f39fb);
  color: white;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 6px 25px rgba(0, 212, 255, 0.35);
  transition: 0.3s ease;
}

form button:hover {
  transform: translateY(-3px);
}

/* TABLE SECTION */
table {
  width: 100%;
  border-collapse: collapse;
}

table th {
  padding: 12px;
  background: rgba(0, 212, 255, 0.25);
}

table td {
  padding: 12px;
  background: rgba(255, 255, 255, 0.05);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* ACTION BUTTONS */
.btn-edit,
.btn-delete {
  padding: 8px 12px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  color: white;
  font-weight: 600;
}

.btn-edit {
  background: linear-gradient(135deg, #ffcc00, #ff8800);
}

.btn-delete {
  background: linear-gradient(135deg, #ff3b3b, #b30000);
}

/* RESPONSIVE */
@media (max-width: 900px) {
  .wrapper {
    grid-template-columns: 1fr;
  }
}
</style>
</head>
<body>

<header>
  <h1>Patient Record Management System</h1>
</header>

<div class="wrapper">

  <!-- FORM SECTION -->
  <div class="section-card">
    <h2>Add / Edit Patient</h2>

    <form id="patientForm">
      <input type="hidden" id="index" />

      <input type="text" id="firstName" placeholder="First Name" required />
      <input type="text" id="lastName" placeholder="Last Name" required />
      <input type="date" id="dob" required />

      <select id="gender" required>
        <option value="">Select Gender</option>
        <option>Male</option>
        <option>Female</option>
        <option>Other</option>
      </select>

      <input type="text" id="contact" placeholder="Contact Number" />
      <textarea id="address" placeholder="Address"></textarea>

      <button type="submit">Save Patient</button>
    </form>
  </div>

  <!-- TABLE SECTION -->
  <div class="section-card">
    <h2>Patient List</h2>

    <table id="patientTable">
      <thead>
        <tr>
          <th>First</th>
          <th>Last</th>
          <th>DOB</th>
          <th>Gender</th>
          <th>Contact</th>
          <th>Address</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

</div>

<script>
let patients = JSON.parse(localStorage.getItem('patients') || '[]');
const patientForm = document.getElementById('patientForm');
const patientTable = document.querySelector('#patientTable tbody');

function renderTable() {
  patientTable.innerHTML = '';

  patients.forEach((p, i) => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${p.firstName}</td>
      <td>${p.lastName}</td>
      <td>${p.dob}</td>
      <td>${p.gender}</td>
      <td>${p.contact}</td>
      <td>${p.address}</td>
      <td>
        <button class="btn-edit" onclick="editPatient(${i})">Edit</button>
        <button class="btn-delete" onclick="deletePatient(${i})">Delete</button>
      </td>
    `;
    patientTable.appendChild(row);
  });

  localStorage.setItem('patients', JSON.stringify(patients));
}

patientForm.addEventListener('submit', e => {
  e.preventDefault();
  const index = document.getElementById('index').value;

  const patient = {
    firstName: firstName.value,
    lastName: lastName.value,
    dob: dob.value,
    gender: gender.value,
    contact: contact.value,
    address: address.value
  };

  if (index === "") patients.push(patient);
  else patients[index] = patient;

  patientForm.reset();
  document.getElementById('index').value = "";
  renderTable();
});

function editPatient(i) {
  const p = patients[i];
  document.getElementById('index').value = i;

  firstName.value = p.firstName;
  lastName.value = p.lastName;
  dob.value = p.dob;
  gender.value = p.gender;
  contact.value = p.contact;
  address.value = p.address;
}

function deletePatient(i) {
  if (confirm("Delete this patient?")) {
    patients.splice(i, 1);
    renderTable();
  }
}

renderTable();
</script>

</body>
</html>
